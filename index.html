<!DOCTYPE html>
<html>
<head>
	<title> Cloud integration </title>
	<link href="lib/styles/kendo.common.min.css" rel="stylesheet" />
    <link href="lib/styles/kendo.default.min.css" rel="stylesheet" />
    <script src="lib/js/jquery.min.js"></script>
    <script src="lib/js/kendo.all.min.js"></script>
</head>
<body>

	<div id="app"></div>

    <script>
        $(document).ready(function() {

            var dropboxView = new kendo.View("<span>dropboxView</span>");
            var googleDriveView = new kendo.View("<span>googleDriveView</span>");
            var oneDriveView = new kendo.View("<span>oneDriveView</span>");

            var layout = new kendo.Layout("<header><input id='cloud-service' value='1' /></header><section id='content'></section>");
            layout.render($("#app"));

            var router = new kendo.Router();

            router.route("/dropbox", function(params) {
                layout.showIn("#content", dropboxView);
            });

            router.route("/googledrive", function(params) {
                layout.showIn("#content", googleDriveView);
            });

            router.route("/onedrive", function(params) {
                layout.showIn("#content", oneDriveView);
            });

            var cloudServices = [
                { text: "Dropbox", value: "dropbox" },
                { text: "Google Drive", value: "googledrive" },
                { text: "One Drive", value: "onedrive" }
            ];

            function onChange() {
                var value = $("#cloud-service").val();
                switch(value) {
                	case "dropbox": 
                		router.navigate("/dropbox");
                		break;
                	case "googledrive": 
                		router.navigate("/googledrive");
                		break;
                	case "onedrive": 
                		router.navigate("/onedrive");
                		break;
                }
            };

            $("#cloud-service").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: cloudServices,
                index: 0,
                change: onChange
            });

            router.start();
            router.navigate("/dropbox");
			
		});
    </script>
</body>
</html>
