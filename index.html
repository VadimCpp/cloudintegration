<!DOCTYPE html>
<html>
<head>
	<title> Cloud integration </title>
	<link href="lib/styles/kendo.common.min.css" rel="stylesheet" />
    <link href="lib/styles/kendo.default.min.css" rel="stylesheet" />
    <script src="lib/js/jquery.min.js"></script>
    <script src="lib/js/kendo.all.min.js"></script>
    <style type="text/css">
        html, body {
            margin: 0;
            padding: 0;
        }

        header {
            height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;

            /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#000000+0,000000+100&0.65+0,0+100;Neutral+Density */
            background: -moz-linear-gradient(top, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0) 100%); /* FF3.6-15 */
            background: -webkit-linear-gradient(top, rgba(0,0,0,0.25) 0%,rgba(0,0,0,0) 100%); /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(to bottom, rgba(0,0,0,0.25) 0%,rgba(0,0,0,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a6000000', endColorstr='#00000000',GradientType=0 ); /* IE6-9 */
        }

        section {
            padding: 20px;
        }
    </style>
</head>
<body>

	<div id="app"></div>

    <script id="layout" type="text/x-kendo-template">
        <header>
            <input id='cloud-service' value='1' />
        </header>
        <section id='content'></section>
    </script>

    <script id="dropbox-view" type="text/x-kendo-template">
        <h2>Dropbox</h2>
        <button id="dropbox-button" data-role="button" data-bind="click: onClick"> Выбрать файл </button>
    </script>

    <script id="google-drive-view" type="text/x-kendo-template">
        <h2>Google Drive</h2>
        <button id="google-drive-button" data-role="button" disabled> Выбрать файл </button>
    </script>

    <script id="one-drive-view" type="text/x-kendo-template">
        <h2>One Drive</h2>
        <button id="one-drive-button" data-role="button" disabled> Выбрать файл </button>
    </script>

    <script>
        $(document).ready(function() {

            var dropboxView = new kendo.View("dropbox-view", {
                model: {
                    onClick: function() {
                        console.log('onClick');
                    }
                }
            });
            var googleDriveView = new kendo.View("google-drive-view");
            var oneDriveView = new kendo.View("one-drive-view");
            
            var layout = new kendo.Layout("layout");
            layout.render($("#app"));

            var router = new kendo.Router();

            router.route("/dropbox", function(params) {
                layout.showIn("#content", dropboxView);
            });

            router.route("/googledrive", function(params) {
                layout.showIn("#content", googleDriveView);
            });

            router.route("/onedrive", function(params) {
                layout.showIn("#content", oneDriveView);
            });

            function onChange() {
                var value = $("#cloud-service").val();
                switch(value) {
                	case "dropbox": 
                		router.navigate("/dropbox");
                		break;
                	case "googledrive": 
                		router.navigate("/googledrive");
                		break;
                	case "onedrive": 
                		router.navigate("/onedrive");
                		break;
                }
            };

            $("#cloud-service").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: [
                    { text: "Dropbox", value: "dropbox" },
                    { text: "Google Drive", value: "googledrive" },
                    { text: "One Drive", value: "onedrive" }
                ],
                index: 0,
                change: onChange
            });

            router.start();
            router.navigate("/dropbox");
			
		});
    </script>
</body>
</html>
